<htmL>
	
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://connect.facebook.net/en_US/all.js"></script>


<style type="text/css">
	
input {
  width: 100%;
}

</style>

	</head>


	<body>
		

		<label>Insert URL :</label>
		<input type="text" name="url" id="url" value=""> 
		<br><br><br><label>Description :</label>
		<input type="text" name="description" id="desc" value="">

		<br><br><label> Group :</label>
		<select id="select">
		
        <option value="723002398151771">Download</option>
        <option value="730556817568300">Movies</option>
        
      </select>

		<br><br><button id="pblbtn" onclick="publish()">publish</button>




		<div id="response" style="margin-top:30">
			

		</div>



		<div id="log" style="word-wrap: break-word;margin-top:30;outline-width: 1;outline-style: solid;width: 100%;height:100%;font-size: 14px">
			<label style="margin:0 47%;">--LOG-- </label>
			

		</div>

		<script type="text/javascript">


			var url;
			var desc;
			var select;
			var div = document.getElementById("response");

			var log = document.getElementById("log");
			
			function publish(){

				url = document.getElementById('url').value;
				desc = document.getElementById("desc").value;
				sel = document.getElementById("select").value;

				var token ="EAAHkwE1uJCUBAISzOfAW2hMxEsxAMJ3bu6LYmGTTSDivx4ZByZCXaagYvcZAWZCviga1rLrZCnv1NzJ3s6TD2pdBGqYIgGoNRVVplLRV87RDYSAPxuXesQKbuJiGvOMfXrgbRacrmRv6Liaf3NVZAZCnsMVh9fPN5EzymzbNgBpBH4XGSZArwjR2UTcnX6cI4ZBmydCnzWAG1NmxmZCMwPJvUt"

				let current = new Date();
				let cDate = current.getFullYear() + '-' + (current.getMonth() + 1) + '-' + current.getDate();
				let cTime = current.getHours() + ":" + current.getMinutes() + ":" + current.getSeconds();
				let dateTime = cDate + ' ' + cTime;
				


					div.innerHTML ="Uploading...."

				var inputurl = 	document.getElementById("url");
				var inputdesc = document.getElementById("desc");
				var btn = 	document.getElementById("pblbtn");
				var select = document.getElementById("select");
				var group = select.options[select.selectedIndex].text;
				
				inputurl.disabled = true;
				inputdesc.disabled = true;
				select.disabled = true;
				btn.disabled = true;
		

			FB.api(

			  '/'+sel+'/videos?access_token='+token,
			  'POST',
			  {"file_url":""+url+"","description": ""+desc+""},


  			

 

			  function(response) {

			  	let current = new Date();
				let cDate = current.getFullYear() + '-' + (current.getMonth() + 1) + '-' + current.getDate();
				let cTime = current.getHours() + ":" + current.getMinutes() + ":" + current.getSeconds();
				let dateTime = cDate + ' ' + cTime;




			  	if (response.id != null) {


			  		inputurl.disabled=false;
			  		inputurl.value = "";
			  		inputdesc.disabled = false;
			  		inputdesc.value	= "";
			  		select.disabled = false;
			  		btn.disabled = false;

			      div.innerHTML = "Success";

			      var p = document.createElement("p");
			      var txt = document.createTextNode("TIME : "+dateTime);
			      var txt1 = document.createTextNode("GROUP : "+group);
			      var txt2 = document.createTextNode("DESCRIPTION : "+desc);
			      var txt3 = document.createTextNode("URL : "+url);
			      var br = document.createElement("br");
			      var br1 = document.createElement("br");
			      var br2 = document.createElement("br");

			      p.appendChild(txt);
			      p.appendChild(br);
			      p.appendChild(txt1);
			      p.appendChild(br1);
			      p.appendChild(txt2);
			      p.appendChild(br2);
			      p.appendChild(txt3);
			      log.appendChild(p);


			      }

			      else{

			      	 
			      	inputurl.disabled=false;
			  		inputurl.value = "";
			  		inputdesc.disabled = false;
			  		
			  		select.disabled = false;
			  		btn.disabled = false;

			      	var errormsg = response.error.message;

			      	 div.innerHTML = "Error";

			  	  var p = document.createElement("p");
			      var txt = document.createTextNode("TIME : "+dateTime);
			      var txt1 = document.createTextNode("GROUP : "+group);
			      var txt2 = document.createTextNode("DESCRIPTION : "+desc);
			      var txt3 = document.createTextNode("URL : "+url);
			      var txt4 = document.createTextNode("ERROR MESSAGE : "+errormsg);
			      var br = document.createElement("br");
			      var br1 = document.createElement("br");
			      var br2 = document.createElement("br");
			      var br4 = document.createElement("br");

			      p.appendChild(txt);
			      p.appendChild(br);
			      p.appendChild(txt1);
			      p.appendChild(br1);
			      p.appendChild(txt2);
			      p.appendChild(br2);
			      p.appendChild(txt3);
			      p.appendChild(br4);
			      p.appendChild(txt4);
			      log.appendChild(p);


			      }
			  }
			);







			}



		</script>



	</body>
</htmL>